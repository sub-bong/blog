---
title: "OpenCV 기초 및 영상 처리 기본"
date: "2025-09-01"
keywords: ["TIL", "컴퓨터비전"]
---

# OpenCV 기초 및 영상 처리 기본

## 1. 컴퓨터 비전과 인간 시각

- **인간 시각의 강점**: 인간의 시각 시스템은 복잡한 장면을 즉각적으로 인식하고, 물체를 구별하며, 깊이와 거리를 감지하는 등 매우 정교한 능력을 갖추고 있습니다. 컴퓨터 비전은 이러한 인간의 시각적 능력을 기계에서 구현하는 것을 목표로 합니다.
- **컴퓨터 비전의 기본 문제**:
  - **분류 (Classification)**: 이미지에 있는 주된 객체가 무엇인지 판별합니다. (예: 이 사진은 '고양이'다)
  - **검출 (Detection)**: 이미지 내의 여러 객체들의 위치와 종류를 찾아냅니다. (예: 사진의 왼쪽에 '개'가 있고, 오른쪽에 '고양이'가 있다)
  - **분할 (Segmentation)**: 이미지를 의미 있는 여러 영역으로 나눕니다. 각 픽셀이 어떤 객체에 속하는지 구분합니다.

## 2. 디지털 영상의 표현

- **영상 (Image)**: 2차원 공간상의 위치(x, y)에 대한 밝기(intensity) 값의 집합으로 표현할 수 있습니다.
- **표본화 (Sampling)**: 아날로그 영상을 디지털 영상으로 변환하기 위해 연속적인 공간을 일정한 간격의 격자(grid)로 나누는 과정입니다. 이 격자의 크기(M x N)가 영상의 해상도를 결정합니다.
- **양자화 (Quantization)**: 각 화소(pixel)의 밝기 값을 제한된 개수의 정수 값으로 표현하는 과정입니다. 예를 들어, 8비트 양자화는 0(검은색)부터 255(흰색)까지 256단계로 밝기를 표현합니다.

## 3. 히스토그램과 영상 처리

- **화소 히스토그램 (Pixel Histogram)**: 영상에 포함된 각 명암 값(밝기)이 몇 개의 픽셀로 구성되어 있는지 보여주는 그래프입니다. 히스토그램을 통해 영상의 전반적인 밝기 분포와 대비(contrast)를 파악할 수 있습니다.
- **히스토그램 평활화 (Histogram Equalization)**: 특정 영역에 집중된 히스토그램을 전체 영역으로 넓게 분포시켜 영상의 대비를 향상시키는 기법입니다. 이를 통해 어둡거나 너무 밝은 영상의 세부 사항을 더 잘 볼 수 있게 됩니다.
- **히스토그램 역투영 (Histogram Backprojection)**: 특정 객체의 색상 히스토그램을 이용해, 입력 영상에서 그 객체와 유사한 색상 분포를 갖는 영역을 찾아내는 기법입니다.

## 4. 기본적인 영상 처리 기법

- **이진화 (Binarization)**: 명암 영상(grayscale image)을 사용자가 지정한 임계값(threshold)을 기준으로 흑과 백의 두 가지 값만 갖는 이진 영상으로 변환하는 과정입니다.

  - **오츄 알고리즘 (Otsu's Method)**: 영상의 히스토그램을 분석하여 배경과 전경의 분산을 최소화하는 최적의 임계값을 자동으로 찾아주는 대표적인 알고리즘입니다.

- **점 연산 (Point Operation)**: 주변 픽셀과 상관없이 각 픽셀에 독립적으로 적용되는 연산입니다.

  - **선형 연산**: `g(x, y) = a * f(x, y) + b` 형태로, 픽셀 값을 선형적으로 변환하여 영상의 밝기나 대비를 조절합니다.
  - **디졸브 (Dissolve)**: 두 영상을 `(1-α) * f1(x, y) + α * f2(x, y)`와 같이 가중치를 주어 합성하는 기법입니다.

- **영역 연산 (Neighborhood Operation)**: 특정 픽셀과 그 주변 픽셀들을 함께 사용하여 새로운 픽셀 값을 결정하는 연산입니다.
  - **컨볼루션 (Convolution)**: 커널(kernel) 또는 필터(filter)라는 작은 행렬을 영상 전체에 대해 이동시키면서 겹치는 영역의 픽셀 값과 곱한 후 모두 더해 새로운 값을 만듭니다.
  - **스무딩 (Smoothing)**: 노이즈를 제거하고 영상을 부드럽게 만듭니다.
    - **박스 필터 (Box Filter)**: 커널 내의 모든 픽셀에 동일한 가중치를 부여합니다.
    - **가우시안 필터 (Gaussian Filter)**: 중심 픽셀에 높은 가중치를 부여하는 정규분포 형태의 커널을 사용하여 더 자연스러운 흐림 효과를 줍니다.
  - **샤프닝 (Sharpening)**: 영상의 경계를 강조하여 선명하게 만듭니다.
